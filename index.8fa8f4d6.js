var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var n={},a={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequired7c6=o),o("eWCmQ");var i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,r=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,p=d||u||Function("return this")(),m=Object.prototype.toString,f=Math.max,y=Math.min,g=function(){return p.Date.now()};function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=l.test(e);return n||r.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}o("k3gng");var h=o("eWCmQ"),L=o("k3gng");const S=document.querySelector(".pagination__list"),b=document.querySelector(".search__form"),M=document.querySelector("input"),T=document.querySelector(".film-list"),w=document.querySelector(".infoPlace"),E=document.querySelector(".prev"),q=document.querySelector(".next");E.style.display="none";let $=1;const x=document.querySelector(".modal__img-picture"),H=document.querySelector(".modal__head"),k=document.querySelector(".modal__rating"),N=document.querySelector(".modal__votes-number"),O=document.querySelector(".modal__popularity-total"),R=document.querySelector(".modal__title-original"),j=document.querySelector(".modal__genre-description"),D=document.querySelector(".modal__text"),I=document.querySelector(".modal__button-watched"),C=document.querySelector(".modal__button-queue"),Q=document.querySelector(".backdrop");function W(e,t){let n,a="",o=t-2,i=t+2;if(S.innerHTML="",e<7)for(let o=1;o<=e;o++)n=t===o?"btn__active":"",a+=`<li class="num ${n} pagination__item"><span>${o}</span></li>`;else{t>2&&(a+='<li class="num-first pagination__item"><span>1</span></li>',t>4&&(a+='<li class="dots pagination__item"><span>...</span></li>')),e>6&&(t===e&&(o-=2),t===e-1&&(o-=1),t===e-2&&(o-=1,i-=1),1===t&&(i+=2,o+=1),2===t&&(i+=1),3===t&&(i+=1,o+=1));for(let s=o;s<=i;s++)s>e||(0===s&&s++,n=t===s?"btn__active":"",a+=`<li class="num ${n} pagination__item"><span>${s}</span></li>`);t<e-1&&(t<e-3&&(a+='<li class="dots pagination__item"><span>...</span></li>'),a+=`<li class="num-last pagination__item"><span>${e}</span></li>`)}S.innerHTML=a}const B=e=>{const t=e.results,n=t.map((e=>`<div class="single-film" data-id="${e.id}" data-modal-open>\n            <img class="film-image" src="https://image.tmdb.org/t/p/w400/${e.poster_path}"\n                alt="${e.title}">\n            <div class="film-info">\n                <p class="film-title">${e.title}</p>\n                <div class="film-subinfo">\n                    <p class="film-genre">Gatunek filmowy</p>\n                    <p class="film-year">| ${e.release_date.slice(0,4)}</p>\n                </div>\n            </div>\n        </div>`)).join("");T.innerHTML=n;document.querySelectorAll(".single-film").forEach((e=>{e.addEventListener("click",(async t=>{x.src="",H.innerHTML="",k.innerHTML="",N.innerHTML="",O.innerHTML="",R.innerHTML="",j.innerHTML="",D.innerHTML="",I.dataset.id="",C.dataset.id="",t.preventDefault();const n=e.dataset.id;(async e=>{x.src=`https://image.tmdb.org/t/p/w400/${e.poster_path}`,H.innerHTML=`${e.title}`,k.innerHTML=`${e.vote_average.toFixed(1)}`,N.innerHTML=`${e.vote_count}`,O.innerHTML=`${e.popularity.toFixed(1)}`,R.innerHTML=`${e.original_title}`,j.innerHTML=`${e.genres.map((e=>e.name)).join(", ")}`,D.innerHTML=`${e.overview}`,I.dataset.id=e.id,C.dataset.id=e.id})(await(0,L.fetchResponseDetails)(n))}))})),(()=>{const e={openModalBtn:document.querySelectorAll("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.forEach((e=>e.addEventListener("click",t))),e.modal.addEventListener("click",(()=>{e.modal.classList.add("is-hidden")})),e.closeModalBtn.addEventListener("click",(()=>{e.modal.classList.add("is-hidden")})),document.addEventListener("keydown",(t=>{"Escape"===t.key&&e.modal.classList.add("is-hidden")})),e.modal.removeEventListener("click",{}),e.closeModalBtn.removeEventListener("click",{})})(),document.removeEventListener("click",{});const a=document.querySelectorAll(".film-genre");(async()=>{const e=t.map((e=>e.genre_ids));for(let t=0;t<=a.length;t++){const n=await(0,L.getGenreNames)(e[t]);a[t].innerHTML=n}})()};localStorage.getItem("Watched")||localStorage.setItem("Watched","[]"),localStorage.getItem("Queued")||localStorage.setItem("Queued","[]");let A=JSON.parse(localStorage.getItem("Watched")),F=JSON.parse(localStorage.getItem("Queued"));I.addEventListener("click",(async()=>{Q.classList.add("is-hidden");const e=I.dataset.id,n=await(0,L.fetchResponseDetails)(e);t(h).Notify.success(`"${n.title}" successfully added to your WATCHED list`);let a={id:n.id,poster_path:n.poster_path,title:n.title,release_date:n.release_date,vote_average:n.vote_average,vote_count:n.vote_count,popularity:n.popularity,original_title:n.original_title,genres:n.genres,overview:n.overview};if(0===A.length)A.push(a);else{void 0===A.find((e=>e.id===n.id))&&A.push(a)}localStorage.setItem("Watched",JSON.stringify(A))})),C.addEventListener("click",(async()=>{Q.classList.add("is-hidden");const e=C.dataset.id,n=await(0,L.fetchResponseDetails)(e);t(h).Notify.success(`"${n.title}" successfully added to your QUEUE list`);let a={id:n.id,poster_path:n.poster_path,title:n.title,release_date:n.release_date,vote_average:n.vote_average,vote_count:n.vote_count,popularity:n.popularity,original_title:n.original_title,genres:n.genres,overview:n.overview};if(0===F.length)F.push(a);else{void 0===F.find((e=>e.id===n.id))&&F.push(a)}localStorage.setItem("Queued",JSON.stringify(F))}));const J=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})};(0,L.fetchResponseTrend)($).then((e=>{B(e),W(e.total_pages,$),S.addEventListener("click",(async e=>{if(!isNaN(e.target.textContent)){$=Number(e.target.textContent);const t=await(0,L.fetchResponseTrend)($);J(),B(t),W(t.total_pages,$),E.style.display=1==$?"none":"flex",$==t.total_pages?q.style.display="none":q.style.display="flex"}})),$>1&&E.addEventListener("click",(async()=>{$-=1;const e=await(0,L.fetchResponseTrend)($);J(),B(e),W(e.total_pages,$),1===$&&(E.style.display="none"),q.style.display="flex"})),q.addEventListener("click",(async()=>{$+=1;const e=await(0,L.fetchResponseTrend)($);J(),B(e),W(e.total_pages,$),$===e.total_pages&&(q.style.display="none"),E.style.display="flex"}))})),S.removeEventListener("submit",{}),q.removeEventListener("submit",{}),E.removeEventListener("submit",{}),b.addEventListener("submit",(e=>{let t=M.value.trim();e.preventDefault(),$=1;try{return(0,L.fetchResponseSearch)(t,$).then((e=>{0===e.total_results&&(w.innerHTML="Search result not successful. Enter the correct movie name and ",T.innerHTML="",S.innerHTML="",q.style.display="none",E.style.display="none"),e.total_results>0&&(w.innerHTML="",B(e),W(e.total_pages,$),S.addEventListener("click",(async e=>{if(!isNaN(e.target.textContent)){$=Number(e.target.textContent);const n=await(0,L.fetchResponseSearch)(t,$);J(),B(n),W(n.total_pages,$),E.style.display=1==$?"none":"flex",$==n.total_pages?q.style.display="none":q.style.display="flex"}})),$>1&&E.addEventListener("click",(async()=>{$-=1;const e=await(0,L.fetchResponseSearch)(t,$);J(),B(e),W(e.total_pages,$),1===$&&(E.style.display="none"),q.style.display="flex"})),q.addEventListener("click",(async()=>{$+=1;const e=await(0,L.fetchResponseSearch)(t,$);J(),B(e),W(e.total_pages,$),$===e.total_pages&&(q.style.display="none"),E.style.display="flex"})))}))}catch(e){console.log(e.message)}}));
//# sourceMappingURL=index.8fa8f4d6.js.map
