!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var n={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a),a("iU1Pc");var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};var i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,p="object"==typeof self&&self&&self.Object===Object&&self,f=d||p||Function("return this")(),m=Object.prototype.toString,v=Math.max,y=Math.min,_=function(){return f.Date.now()};function g(e){var n=void 0===e?"undefined":t(o)(e);return!!e&&("object"==n||"function"==n)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":t(o)(e))||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(g(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=c.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):s.test(e)?NaN:+e}a("7rAmf");var x=a("bpxeT"),L=a("2TvXO"),b=a("iU1Pc"),S=a("7rAmf"),w=document.querySelector(".pagination__list"),k=document.querySelector(".search__form"),T=document.querySelector("input"),M=document.querySelector(".film-list"),E=document.querySelector(".infoPlace"),q=document.querySelector(".prev"),H=document.querySelector(".next");q.style.display="none";var N=1,O=document.querySelector(".modal__img-picture"),j=document.querySelector(".modal__head"),R=document.querySelector(".modal__rating"),D=document.querySelector(".modal__votes-number"),I=document.querySelector(".modal__popularity-total"),A=document.querySelector(".modal__title-original"),C=document.querySelector(".modal__genre-description"),U=document.querySelector(".modal__text"),B=document.querySelector(".modal__button-watched"),Q=document.querySelector(".modal__button-queue"),W=document.querySelector(".backdrop");function F(e,t){var n="",r=t-2,a=t+2;if(w.innerHTML="",e<7)for(var o=1;o<=e;o++)n+='<li class="num '.concat(t===o?"btn__active":"",' pagination__item"><span>').concat(o,"</span></li>");else{t>2&&(n+='<li class="num-first pagination__item"><span>1</span></li>',t>4&&(n+='<li class="dots pagination__item"><span>...</span></li>')),e>6&&(t===e&&(r-=2),t===e-1&&(r-=1),t===e-2&&(r-=1,a-=1),1===t&&(a+=2,r+=1),2===t&&(a+=1),3===t&&(a+=1,r+=1));for(var i=r;i<=a;i++)i>e||(0===i&&i++,n+='<li class="num '.concat(t===i?"btn__active":"",' pagination__item"><span>').concat(i,"</span></li>"));t<e-1&&(t<e-3&&(n+='<li class="dots pagination__item"><span>...</span></li>'),n+='<li class="num-last pagination__item"><span>'.concat(e,"</span></li>"))}w.innerHTML=n}var J,P=(J=t(x)(t(L).mark((function e(n){return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.src="https://image.tmdb.org/t/p/w400/".concat(n.poster_path),j.innerHTML="".concat(n.title),R.innerHTML="".concat(n.vote_average.toFixed(1)),D.innerHTML="".concat(n.vote_count),I.innerHTML="".concat(n.popularity.toFixed(1)),A.innerHTML="".concat(n.original_title),C.innerHTML="".concat(n.genres.map((function(e){return e.name})).join(", ")),U.innerHTML="".concat(n.overview),B.dataset.id=n.id,Q.dataset.id=n.id;case 10:case"end":return e.stop()}}),e)}))),function(e){return J.apply(this,arguments)}),$=function(e){var n=e.results,r=n.map((function(e){return'<div class="single-film" data-id="'.concat(e.id,'" data-modal-open>\n            <img class="film-image" src="https://image.tmdb.org/t/p/w400/').concat(e.poster_path,'"\n                alt="').concat(e.title,'">\n            <div class="film-info">\n                <p class="film-title">').concat(e.title,'</p>\n                <div class="film-subinfo">\n                    <p class="film-genre">Gatunek filmowy</p>\n                    <p class="film-year">| ').concat(e.release_date.slice(0,4),"</p>\n                </div>\n            </div>\n        </div>")})).join("");M.innerHTML=r,document.querySelectorAll(".single-film").forEach((function(e){e.addEventListener("click",function(){var n=t(x)(t(L).mark((function n(r){var a,o;return t(L).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O.src="",j.innerHTML="",R.innerHTML="",D.innerHTML="",I.innerHTML="",A.innerHTML="",C.innerHTML="",U.innerHTML="",B.dataset.id="",Q.dataset.id="",r.preventDefault(),a=e.dataset.id,t.next=14,(0,S.fetchResponseDetails)(a);case 14:o=t.sent,P(o);case 16:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})),function(){var e={openModalBtn:document.querySelectorAll("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.forEach((function(e){return e.addEventListener("click",t)})),e.modal.addEventListener("click",(function(){e.modal.classList.add("is-hidden")})),e.closeModalBtn.addEventListener("click",(function(){e.modal.classList.add("is-hidden")})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.modal.classList.add("is-hidden")})),e.modal.removeEventListener("click",{}),e.closeModalBtn.removeEventListener("click",{})}(),document.removeEventListener("click",{});var a=document.querySelectorAll(".film-genre"),o=function(){var e=t(x)(t(L).mark((function e(){var r,o,i;return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.map((function(e){return e.genre_ids})),o=0;case 2:if(!(o<=a.length)){e.next=10;break}return e.next=5,(0,S.getGenreNames)(r[o]);case 5:i=e.sent,a[o].innerHTML=i;case 7:o++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o()};localStorage.getItem("Watched")||localStorage.setItem("Watched","[]"),localStorage.getItem("Queued")||localStorage.setItem("Queued","[]");var G=JSON.parse(localStorage.getItem("Watched")),X=JSON.parse(localStorage.getItem("Queued"));B.addEventListener("click",t(x)(t(L).mark((function e(){var n,r,a;return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W.classList.add("is-hidden"),n=B.dataset.id,e.next=4,(0,S.fetchResponseDetails)(n);case 4:r=e.sent,t(b).Notify.success('"'.concat(r.title,'" successfully added to your WATCHED list')),a={id:r.id,poster_path:r.poster_path,title:r.title,release_date:r.release_date,vote_average:r.vote_average,vote_count:r.vote_count,popularity:r.popularity,original_title:r.original_title,genres:r.genres,overview:r.overview},(0===G.length||void 0===G.find((function(e){return e.id===r.id})))&&G.push(a),localStorage.setItem("Watched",JSON.stringify(G));case 9:case"end":return e.stop()}}),e)})))),Q.addEventListener("click",t(x)(t(L).mark((function e(){var n,r,a;return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W.classList.add("is-hidden"),n=Q.dataset.id,e.next=4,(0,S.fetchResponseDetails)(n);case 4:r=e.sent,t(b).Notify.success('"'.concat(r.title,'" successfully added to your QUEUE list')),a={id:r.id,poster_path:r.poster_path,title:r.title,release_date:r.release_date,vote_average:r.vote_average,vote_count:r.vote_count,popularity:r.popularity,original_title:r.original_title,genres:r.genres,overview:r.overview},(0===X.length||void 0===X.find((function(e){return e.id===r.id})))&&X.push(a),localStorage.setItem("Queued",JSON.stringify(X));case 9:case"end":return e.stop()}}),e)}))));var z=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})};(0,S.fetchResponseTrend)(N).then((function(e){$(e),F(e.total_pages,N),w.addEventListener("click",function(){var e=t(x)(t(L).mark((function e(n){var r;return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(n.target.textContent)){e.next=4;break}return e.abrupt("return");case 4:return N=Number(n.target.textContent),e.next=7,(0,S.fetchResponseTrend)(N);case 7:r=e.sent,z(),$(r),F(r.total_pages,N),q.style.display=1==N?"none":"flex",N==r.total_pages?H.style.display="none":H.style.display="flex";case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N>1&&q.addEventListener("click",t(x)(t(L).mark((function e(){var n;return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N-=1,e.next=3,(0,S.fetchResponseTrend)(N);case 3:n=e.sent,z(),$(n),F(n.total_pages,N),1===N&&(q.style.display="none"),H.style.display="flex";case 9:case"end":return e.stop()}}),e)})))),H.addEventListener("click",t(x)(t(L).mark((function e(){var n;return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N+=1,e.next=3,(0,S.fetchResponseTrend)(N);case 3:n=e.sent,z(),$(n),F(n.total_pages,N),N===n.total_pages&&(H.style.display="none"),q.style.display="flex";case 9:case"end":return e.stop()}}),e)}))))})),w.removeEventListener("submit",{}),H.removeEventListener("submit",{}),q.removeEventListener("submit",{}),k.addEventListener("submit",(function(e){var n=T.value.trim();e.preventDefault(),N=1;try{return(0,S.fetchResponseSearch)(n,N).then((function(e){0===e.total_results&&(E.innerHTML="Search result not successful. Enter the correct movie name and ",M.innerHTML="",w.innerHTML="",H.style.display="none",q.style.display="none"),e.total_results>0&&(E.innerHTML="",$(e),F(e.total_pages,N),w.addEventListener("click",function(){var e=t(x)(t(L).mark((function e(r){var a;return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(r.target.textContent)){e.next=4;break}return e.abrupt("return");case 4:return N=Number(r.target.textContent),e.next=7,(0,S.fetchResponseSearch)(n,N);case 7:a=e.sent,z(),$(a),F(a.total_pages,N),q.style.display=1==N?"none":"flex",N==a.total_pages?H.style.display="none":H.style.display="flex";case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N>1&&q.addEventListener("click",t(x)(t(L).mark((function e(){var r;return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N-=1,e.next=3,(0,S.fetchResponseSearch)(n,N);case 3:r=e.sent,z(),$(r),F(r.total_pages,N),1===N&&(q.style.display="none"),H.style.display="flex";case 9:case"end":return e.stop()}}),e)})))),H.addEventListener("click",t(x)(t(L).mark((function e(){var r;return t(L).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N+=1,e.next=3,(0,S.fetchResponseSearch)(n,N);case 3:r=e.sent,z(),$(r),F(r.total_pages,N),N===r.total_pages&&(H.style.display="none"),q.style.display="flex";case 9:case"end":return e.stop()}}),e)})))))}))}catch(e){console.log(e.message)}}))}();
//# sourceMappingURL=index.c1ac612f.js.map
