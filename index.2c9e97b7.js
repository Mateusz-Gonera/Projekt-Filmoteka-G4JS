!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var n={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a),a("iU1Pc");var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};var i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,p="object"==typeof self&&self&&self.Object===Object&&self,f=d||p||Function("return this")(),m=Object.prototype.toString,v=Math.max,y=Math.min,_=function(){return f.Date.now()};function g(e){var n=void 0===e?"undefined":t(o)(e);return!!e&&("object"==n||"function"==n)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":t(o)(e))||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(g(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=c.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):s.test(e)?NaN:+e}a("7rAmf");var b=a("bpxeT"),L=a("8nrFW"),w=a("2TvXO"),k=a("iU1Pc"),x=a("7rAmf"),S=document.querySelector(".pagination__list"),M=document.querySelector(".search__form"),T=document.querySelector("input"),q=document.querySelector(".film-list"),E=document.querySelector(".infoPlace"),H=document.querySelector(".prev"),N=document.querySelector(".next");H.style.display="none";var O=1,j=document.querySelector(".modal__img-picture"),R=document.querySelector(".modal__head"),D=document.querySelector(".modal__rating"),A=document.querySelector(".modal__votes-number"),C=document.querySelector(".modal__popularity-total"),F=document.querySelector(".modal__title-original"),B=document.querySelector(".modal__genre-description"),P=document.querySelector(".modal__text"),U=document.querySelector(".modal__button-watched"),$=document.querySelector(".modal__button-queue"),I=document.querySelector(".backdrop"),G=[],J=[];function W(e,t){var n="",r=t-2,a=t+2;if(S.innerHTML="",e<7)for(var o=1;o<=e;o++)n+='<li class="num '.concat(t===o?"btn__active":"",' pagination__item"><span>').concat(o,"</span></li>");else{t>2&&(n+='<li class="num-first pagination__item"><span>1</span></li>',t>4&&(n+='<li class="dots"><span>...</span></li>')),e>6&&(t===e&&(r-=2),t===e-1&&(r-=1),t===e-2&&(r-=1,a-=1),1===t&&(a+=2,r+=1),2===t&&(a+=1),3===t&&(a+=1,r+=1));for(var i=r;i<=a;i++)i>e||(0===i&&i++,n+='<li class="num '.concat(t===i?"btn__active":"",' pagination__item"><span>').concat(i,"</span></li>"));t<e-1&&(t<e-3&&(n+='<li class="dots"><span>...</span></li>'),n+='<li class="num-last pagination__item"><span>'.concat(e,"</span></li>"))}S.innerHTML=n}var Q,X=(Q=t(b)(t(w).mark((function e(n){return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.src="https://image.tmdb.org/t/p/w400/".concat(n.poster_path),R.innerHTML="".concat(n.title),D.innerHTML="".concat(n.vote_average.toFixed(1)),A.innerHTML="".concat(n.vote_count),C.innerHTML="".concat(n.popularity.toFixed(1)),F.innerHTML="".concat(n.original_title),B.innerHTML="".concat(n.genres.map((function(e){return e.name})).join(", ")),P.innerHTML="".concat(n.overview);case 8:case"end":return e.stop()}}),e)}))),function(e){return Q.apply(this,arguments)}),z=function(e){var n=e.results,r=n.map((function(e){return'<div class="single-film" data-id="'.concat(e.id,'" data-modal-open>\n            <img class="film-image" src="https://image.tmdb.org/t/p/w400/').concat(e.poster_path,'"\n                alt="').concat(e.title,'">\n            <div class="film-info">\n                <p class="film-title">').concat(e.title,'</p>\n                <div class="film-subinfo">\n                    <p class="film-genre">Gatunek filmowy</p>\n                    <p class="film-year">| ').concat(e.release_date.slice(0,4),"</p>\n                </div>\n            </div>\n        </div>")})).join("");q.innerHTML=r,document.querySelectorAll(".single-film").forEach((function(e){e.addEventListener("click",function(){var n=t(b)(t(w).mark((function n(r){var a,o;return t(w).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j.src="",R.innerHTML="",D.innerHTML="",A.innerHTML="",C.innerHTML="",F.innerHTML="",B.innerHTML="",P.innerHTML="",r.preventDefault(),a=e.dataset.id,n.next=12,(0,x.fetchResponseDetails)(a);case 12:o=n.sent,X(o),U.addEventListener("click",(function(){I.classList.add("is-hidden"),G.push({id:o.id,poster_path:o.poster_path,title:o.title,release_date:o.release_date,vote_average:o.vote_average,vote_count:o.vote_count,popularity:o.popularity,original_title:o.original_title,genres:o.genres,overview:o.overview});var e=t(L)(new Map(G.map((function(e){return[e.id,e]}))).values());localStorage.setItem("Watched films",JSON.stringify(e))})),$.addEventListener("click",(function(){I.classList.add("is-hidden"),J.push({id:o.id,poster_path:o.poster_path,title:o.title,release_date:o.release_date,vote_average:o.vote_average,vote_count:o.vote_count,popularity:o.popularity,original_title:o.original_title,genres:o.genres,overview:o.overview});var e=t(L)(new Map(J.map((function(e){return[e.id,e]}))).values());localStorage.setItem("Queued films",JSON.stringify(e))}));case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})),function(){var e={openModalBtn:document.querySelectorAll("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.forEach((function(e){return e.addEventListener("click",t)})),e.closeModalBtn.addEventListener("click",(function(){e.modal.classList.add("is-hidden")})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.modal.classList.add("is-hidden")}))}();var a=document.querySelectorAll(".film-genre"),o=function(){var e=t(b)(t(w).mark((function e(){var r,o,i;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.map((function(e){return e.genre_ids})),o=0;case 2:if(!(o<=a.length)){e.next=10;break}return e.next=5,(0,x.getGenreNames)(r[o]);case 5:i=e.sent,a[o].innerHTML=i;case 7:o++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o()};U.addEventListener("click",(function(){t(k).Notify.success("film successfully added to your watched list")})),$.addEventListener("click",(function(){t(k).Notify.success("film successfully added to your queue list")}));var K=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})};(0,x.fetchResponseTrend)(O).then((function(e){z(e),W(e.total_pages,O),S.addEventListener("click",function(){var e=t(b)(t(w).mark((function e(n){var r;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(n.target.textContent)){e.next=4;break}return e.abrupt("return");case 4:return O=Number(n.target.textContent),e.next=7,(0,x.fetchResponseTrend)(O);case 7:r=e.sent,K(),z(r),W(r.total_pages,O),H.style.display=1==O?"none":"block",O==r.total_pages?N.style.display="none":N.style.display="block";case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O>1&&H.addEventListener("click",t(b)(t(w).mark((function e(){var n;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O-=1,e.next=3,(0,x.fetchResponseTrend)(O);case 3:n=e.sent,K(),z(n),W(n.total_pages,O),1===O&&(H.style.display="none"),N.style.display="block";case 9:case"end":return e.stop()}}),e)})))),N.addEventListener("click",t(b)(t(w).mark((function e(){var n;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O+=1,e.next=3,(0,x.fetchResponseTrend)(O);case 3:n=e.sent,K(),z(n),W(n.total_pages,O),O===n.total_pages&&(N.style.display="none"),H.style.display="block";case 9:case"end":return e.stop()}}),e)}))))})),S.removeEventListener("submit",{}),N.removeEventListener("submit",{}),H.removeEventListener("submit",{}),M.addEventListener("submit",(function(e){var n=T.value.trim();e.preventDefault(),O=1;try{return(0,x.fetchResponseSearch)(n,O).then((function(e){0===e.total_results&&(E.innerHTML="Search result not successful. Enter the correct movie name and ",q.innerHTML="",S.innerHTML="",N.style.display="none",H.style.display="none"),e.total_results>0&&(E.innerHTML="",z(e),W(e.total_pages,O),S.addEventListener("click",function(){var e=t(b)(t(w).mark((function e(r){var a;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(r.target.textContent)){e.next=4;break}return e.abrupt("return");case 4:return O=Number(r.target.textContent),e.next=7,(0,x.fetchResponseSearch)(n,O);case 7:a=e.sent,K(),z(a),W(a.total_pages,O),H.style.display=1==O?"none":"block",O==a.total_pages?N.style.display="none":N.style.display="block";case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O>1&&H.addEventListener("click",t(b)(t(w).mark((function e(){var r;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O-=1,e.next=3,(0,x.fetchResponseSearch)(n,O);case 3:r=e.sent,K(),z(r),W(r.total_pages,O),1===O&&(H.style.display="none"),N.style.display="block";case 9:case"end":return e.stop()}}),e)})))),N.addEventListener("click",t(b)(t(w).mark((function e(){var r;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O+=1,e.next=3,(0,x.fetchResponseSearch)(n,O);case 3:r=e.sent,K(),z(r),W(r.total_pages,O),O===r.total_pages&&(N.style.display="none"),H.style.display="block";case 9:case"end":return e.stop()}}),e)})))))}))}catch(e){console.log(e.message)}}))}();
//# sourceMappingURL=index.2c9e97b7.js.map
