{"mappings":"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","sources":["src/js/modal.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport {\n  fetchResponseTrend,\n  fetchResponseSearch,\n  fetchResponseDetails,\n  getGenreNames,\n} from './fetchResponse';\n\nconst pagination = document.querySelector('.pagination__list');\nconst filmList = document.querySelector('.film-list');\nconst prev = document.querySelector('.prev');\nconst next = document.querySelector('.next');\nconst watchedButton = document.querySelector('#watchedButton');\nconst queueButton = document.querySelector('#queueButton');\n\nlet page = 1;\n\n//======= MODAL =======//\nconst modalPicture = document.querySelector('.modal__img-picture');\nconst modalTitle = document.querySelector('.modal__head');\nconst modalRating = document.querySelector('.modal__rating');\nconst modalVotes = document.querySelector('.modal__votes-number');\nconst modalPopularity = document.querySelector('.modal__popularity-total');\nconst modalOriginalTitle = document.querySelector('.modal__title-original');\nconst modalGenre = document.querySelector('.modal__genre-description');\nconst modalDescription = document.querySelector('.modal__text');\nconst modalBtnWatched = document.querySelector('.modal__button-watched');\nconst modalBtnQueued = document.querySelector('.modal__button-queue');\nconst modal = document.querySelector('.backdrop');\n\nfilmList.innerHTML = '';\npagination.innerHTML = '';\nnext.style.display = 'none';\nprev.style.display = 'none';\n\nfunction changePage(totalPages, page) {\n  let liTag = '';\n  let activeLi;\n  let beforePages = page - 2;\n  let afterPages = page + 2;\n  pagination.innerHTML = '';\n\n  if (totalPages < 7) {\n    for (let i = 1; i <= totalPages; i++) {\n      if (page === i) {\n        activeLi = 'btn__active';\n      } else {\n        activeLi = '';\n      }\n      liTag += `<li class=\"num ${activeLi} pagination__item\"><span>${i}</span></li>`;\n    }\n  } else {\n    if (page > 2) {\n      liTag += `<li class=\"num-first pagination__item\"><span>1</span></li>`;\n      if (page > 4) {\n        liTag += `<li class=\"dots pagination__item\"><span>...</span></li>`;\n      }\n    }\n    if (totalPages > 6) {\n      if (page === totalPages) {\n        beforePages = beforePages - 2;\n      }\n      if (page === totalPages - 1) {\n        beforePages = beforePages - 1;\n      }\n      if (page === totalPages - 2) {\n        beforePages = beforePages - 1;\n        afterPages = afterPages - 1;\n      }\n\n      if (page === 1) {\n        afterPages = afterPages + 2;\n        beforePages = beforePages + 1;\n      }\n      if (page === 2) {\n        afterPages = afterPages + 1;\n      }\n      if (page === 3) {\n        afterPages = afterPages + 1;\n        beforePages = beforePages + 1;\n      }\n    }\n\n    for (let pageLength = beforePages; pageLength <= afterPages; pageLength++) {\n      if (pageLength > totalPages) {\n        continue;\n      }\n      if (pageLength === 0) {\n        pageLength++;\n      }\n      if (page === pageLength) {\n        activeLi = 'btn__active';\n      } else {\n        activeLi = '';\n      }\n      liTag += `<li class=\"num ${activeLi} pagination__item\"><span>${pageLength}</span></li>`;\n    }\n\n    if (page < totalPages - 1) {\n      if (page < totalPages - 3) {\n        liTag += `<li class=\"dots pagination__item\"><span>...</span></li>`;\n      }\n      liTag += `<li class=\"num-last pagination__item\"><span>${totalPages}</span></li>`;\n    }\n  }\n\n  pagination.innerHTML = liTag;\n}\n\nconst ChangeFilmInfo = async film => {\n  modalPicture.src = `https://image.tmdb.org/t/p/w400/${film.poster_path}`;\n  modalTitle.innerHTML = `${film.title}`;\n  modalRating.innerHTML = `${film.vote_average.toFixed(1)}`;\n  modalVotes.innerHTML = `${film.vote_count}`;\n  modalPopularity.innerHTML = `${film.popularity.toFixed(1)}`;\n  modalOriginalTitle.innerHTML = `${film.original_title}`;\n  modalGenre.innerHTML = `${film.genres.map(genre => genre.name).join(', ')}`;\n  modalDescription.innerHTML = `${film.overview}`;\n  modalBtnWatched.dataset.id = film.id;\n  modalBtnQueued.dataset.id = film.id;\n};\n\nconst addFilms = movies => {\n  const markup = movies\n    .map(\n      film =>\n        `<div class=\"single-film\" data-id=\"${film.id}\" data-modal-open>\n            <img class=\"film-image\" src=\"https://image.tmdb.org/t/p/w400/${\n              film.poster_path\n            }\"\n                alt=\"${film.title}\">\n            <div class=\"film-info\">\n                <p class=\"film-title\">${film.title}</p>\n                <div class=\"film-subinfo\">\n                    <p class=\"film-genre\">${film.genres\n                      .map(genre => genre.name)\n                      .join(', ')}</p>\n                    <p class=\"film-year\">| ${film.release_date.slice(0, 4)}</p>\n                </div>\n            </div>\n        </div>`\n    )\n    .join('');\n  filmList.innerHTML = markup;\n\n  const filmArray = document.querySelectorAll('.single-film');\n  filmArray.forEach(film => {\n    film.addEventListener('click', async e => {\n      modalPicture.src = '';\n      modalTitle.innerHTML = '';\n      modalRating.innerHTML = '';\n      modalVotes.innerHTML = '';\n      modalPopularity.innerHTML = '';\n      modalOriginalTitle.innerHTML = '';\n      modalGenre.innerHTML = '';\n      modalDescription.innerHTML = '';\n      modalBtnWatched.dataset.id = '';\n      modalBtnQueued.dataset.id = '';\n\n      e.preventDefault();\n      const filmId = film.dataset.id;\n      const filmData = await fetchResponseDetails(filmId);\n      ChangeFilmInfo(filmData);\n    });\n  });\n\n  (() => {\n    const refs = {\n      openModalBtn: document.querySelectorAll('[data-modal-open]'),\n      closeModalBtn: document.querySelector('[data-modal-close]'),\n      modal: document.querySelector('[data-modal]'),\n    };\n    refs.openModalBtn.forEach(open =>\n      open.addEventListener('click', toggleModal)\n    );\n\n    function toggleModal() {\n      refs.modal.classList.toggle('is-hidden');\n    }\n\n    refs.modal.addEventListener('click', () => {\n      refs.modal.classList.add('is-hidden');\n    });\n\n    refs.closeModalBtn.addEventListener('click', () => {\n      refs.modal.classList.add('is-hidden');\n    });\n    document.addEventListener('keydown', e => {\n      if (e.key === 'Escape') {\n        refs.modal.classList.add('is-hidden');\n      }\n    });\n    refs.modal.removeEventListener('click', {});\n    refs.closeModalBtn.removeEventListener('click', {});\n  })();\n  document.removeEventListener('click', {});\n};\n\nif (!localStorage.getItem('Watched')) {\n  localStorage.setItem('Watched', '[]');\n}\nif (!localStorage.getItem('Queued')) {\n  localStorage.setItem('Queued', '[]');\n}\n\nlet watchedStorage = JSON.parse(localStorage.getItem('Watched'));\nlet queueStorage = JSON.parse(localStorage.getItem('Queued'));\n\nmodalBtnWatched.addEventListener('click', async () => {\n  modal.classList.add('is-hidden');\n  const filmId = modalBtnWatched.dataset.id;\n  const filmData = await fetchResponseDetails(filmId);\n  Notiflix.Notify.success(\n    `\"${filmData.title}\" successfully added to your WATCHED list`\n  );\n  let clickedFilm = {\n    id: filmData.id,\n    poster_path: filmData.poster_path,\n    title: filmData.title,\n    release_date: filmData.release_date,\n    vote_average: filmData.vote_average,\n    vote_count: filmData.vote_count,\n    popularity: filmData.popularity,\n    original_title: filmData.original_title,\n    genres: filmData.genres,\n    overview: filmData.overview,\n  };\n  if (watchedStorage.length === 0) {\n    watchedStorage.push(clickedFilm);\n  } else {\n    let checkForMatch = watchedStorage.find(added => added.id === filmData.id);\n    if (checkForMatch === undefined) {\n      watchedStorage.push(clickedFilm);\n    }\n  }\n  localStorage.setItem('Watched', JSON.stringify(watchedStorage));\n});\n\nmodalBtnQueued.addEventListener('click', async () => {\n  modal.classList.add('is-hidden');\n  const filmId = modalBtnQueued.dataset.id;\n  const filmData = await fetchResponseDetails(filmId);\n  Notiflix.Notify.success(\n    `\"${filmData.title}\" successfully added to your QUEUE list`\n  );\n  let clickedFilm = {\n    id: filmData.id,\n    poster_path: filmData.poster_path,\n    title: filmData.title,\n    release_date: filmData.release_date,\n    vote_average: filmData.vote_average,\n    vote_count: filmData.vote_count,\n    popularity: filmData.popularity,\n    original_title: filmData.original_title,\n    genres: filmData.genres,\n    overview: filmData.overview,\n  };\n  if (queueStorage.length === 0) {\n    queueStorage.push(clickedFilm);\n  } else {\n    let checkForMatch = queueStorage.find(added => added.id === filmData.id);\n    if (checkForMatch === undefined) {\n      queueStorage.push(clickedFilm);\n    }\n  }\n  localStorage.setItem('Queued', JSON.stringify(queueStorage));\n});\n\nconst scrollup = () => {\n  window.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: 'smooth',\n  });\n};\n\nconst divideResultToPages = (array, page) => {\n  page = page - 1;\n  return array.slice(0 + 21 * page, 20 + 21 * page);\n};\n\nconst firstEntry = () => {\n  if (watchedStorage === null) {\n    filmList.innerHTML = '';\n    pagination.innerHTML = '';\n    next.style.display = 'none';\n    prev.style.display = 'none';\n    return;\n  }\n  addFilms(divideResultToPages(watchedStorage, page));\n  changePage(Math.ceil(watchedStorage.length / 20), page);\n\n  pagination.addEventListener('click', event => {\n    if (isNaN(event.target.textContent)) return;\n    else {\n      page = Number(event.target.textContent);\n\n      const nextPage = divideResultToPages(watchedStorage, page);\n      scrollup();\n      addFilms(nextPage);\n      changePage(Math.ceil(watchedStorage.length / 20), page);\n\n      if (page == 1) prev.style.display = 'none';\n      else prev.style.display = 'flex';\n\n      if (page == nextPage.total_pages) next.style.display = 'none';\n      else next.style.display = 'flex';\n    }\n  });\n\n  if (page > 1) {\n    prev.addEventListener('click', () => {\n      page = page - 1;\n      const nextPage = divideResultToPages(watchedStorage, page);\n      scrollup();\n      addFilms(nextPage);\n      changePage(Math.ceil(watchedStorage.length / 20), page);\n      if (page === 1) prev.style.display = 'none';\n      next.style.display = 'flex';\n    });\n  }\n\n  next.addEventListener('click', () => {\n    page = page + 1;\n    const nextPage = divideResultToPages(watchedStorage, page);\n    scrollup();\n    addFilms(nextPage);\n    changePage(Math.ceil(watchedStorage.length / 20), page);\n    if (page === nextPage.total_pages) next.style.display = 'none';\n    prev.style.display = 'flex';\n  });\n};\n\nfirstEntry();\n\nqueueButton.addEventListener('click', e => {\n  e.preventDefault;\n  page = 1;\n  if (queueStorage === null) {\n    filmList.innerHTML = '';\n    pagination.innerHTML = '';\n    next.style.display = 'none';\n    prev.style.display = 'none';\n    watchedButton.classList.remove('current-page');\n    queueButton.classList.add('current-page');\n    return;\n  }\n  addFilms(divideResultToPages(queueStorage, page));\n  changePage(Math.ceil(queueStorage.length / 20), page);\n  watchedButton.classList.remove('current-page');\n  queueButton.classList.add('current-page');\n\n  pagination.addEventListener('click', event => {\n    if (isNaN(event.target.textContent)) return;\n    else {\n      page = Number(event.target.textContent);\n\n      const nextPage = divideResultToPages(queueStorage, page);\n      scrollup();\n      addFilms(nextPage);\n      changePage(Math.ceil(queueStorage.length / 20), page);\n\n      if (page == 1) prev.style.display = 'none';\n      else prev.style.display = 'flex';\n\n      if (page == nextPage.total_pages) next.style.display = 'none';\n      else next.style.display = 'flex';\n    }\n  });\n\n  if (page > 1) {\n    prev.addEventListener('click', () => {\n      page = page - 1;\n      const nextPage = divideResultToPages(queueStorage, page);\n      scrollup();\n      addFilms(nextPage);\n      changePage(Math.ceil(queueStorage.length / 20), page);\n      if (page === 1) prev.style.display = 'none';\n      next.style.display = 'flex';\n    });\n  }\n\n  next.addEventListener('click', () => {\n    page = page + 1;\n    const nextPage = divideResultToPages(queueStorage, page);\n    scrollup();\n    addFilms(nextPage);\n    changePage(Math.ceil(queueStorage.length / 20), page);\n    if (page === nextPage.total_pages) next.style.display = 'none';\n    prev.style.display = 'flex';\n  });\n});\n\nwatchedButton.addEventListener('click', e => {\n  e.preventDefault;\n  page = 1;\n  if (watchedStorage === null) {\n    filmList.innerHTML = '';\n    pagination.innerHTML = '';\n    next.style.display = 'none';\n    prev.style.display = 'none';\n    watchedButton.classList.add('current-page');\n    queueButton.classList.remove('current-page');\n    return;\n  }\n  addFilms(divideResultToPages(watchedStorage, page));\n  changePage(Math.ceil(watchedStorage.length / 20), page);\n  watchedButton.classList.add('current-page');\n  queueButton.classList.remove('current-page');\n\n  pagination.addEventListener('click', event => {\n    if (isNaN(event.target.textContent)) return;\n    else {\n      page = Number(event.target.textContent);\n\n      const nextPage = divideResultToPages(watchedStorage, page);\n      scrollup();\n      addFilms(nextPage);\n      changePage(Math.ceil(watchedStorage.length / 20), page);\n\n      if (page == 1) prev.style.display = 'none';\n      else prev.style.display = 'flex';\n\n      if (page == nextPage.total_pages) next.style.display = 'none';\n      else next.style.display = 'flex';\n    }\n  });\n\n  if (page > 1) {\n    prev.addEventListener('click', () => {\n      page = page - 1;\n      const nextPage = divideResultToPages(watchedStorage, page);\n      scrollup();\n      addFilms(nextPage);\n      changePage(Math.ceil(watchedStorage.length / 20), page);\n      if (page === 1) prev.style.display = 'none';\n      next.style.display = 'flex';\n    });\n  }\n\n  next.addEventListener('click', () => {\n    page = page + 1;\n    const nextPage = divideResultToPages(watchedStorage, page);\n    scrollup();\n    addFilms(nextPage);\n    changePage(Math.ceil(watchedStorage.length / 20), page);\n    if (page === nextPage.total_pages) next.style.display = 'none';\n    prev.style.display = 'flex';\n  });\n});\n"],"names":["$bpxeT","parcelRequire","$40873ecf3c18e122$var$pagination","document","querySelector","$40873ecf3c18e122$var$filmList","$40873ecf3c18e122$var$prev","$40873ecf3c18e122$var$next","$40873ecf3c18e122$var$watchedButton","$40873ecf3c18e122$var$queueButton","$40873ecf3c18e122$var$page","$40873ecf3c18e122$var$modalPicture","$40873ecf3c18e122$var$modalTitle","$40873ecf3c18e122$var$modalRating","$40873ecf3c18e122$var$modalVotes","$40873ecf3c18e122$var$modalPopularity","$40873ecf3c18e122$var$modalOriginalTitle","$40873ecf3c18e122$var$modalGenre","$40873ecf3c18e122$var$modalDescription","$40873ecf3c18e122$var$modalBtnWatched","$40873ecf3c18e122$var$modalBtnQueued","$40873ecf3c18e122$var$modal","$40873ecf3c18e122$var$changePage","totalPages","page1","liTag","beforePages","afterPages","innerHTML","i","concat","pageLength","style","display","$40873ecf3c18e122$var$ChangeFilmInfo","$parcel$interopDefault","$2TvXO","mark","_callee","film","src","poster_path","title","vote_average","toFixed","vote_count","popularity","original_title","genres","map","genre","name","join","overview","dataset","id","$40873ecf3c18e122$var$addFilms","movies","markup","release_date","slice","querySelectorAll","forEach","addEventListener","e","filmId","filmData","preventDefault","$7rAmf","fetchResponseDetails","_ctx","sent","refs","openModalBtn","closeModalBtn","modal","toggleModal","classList","toggle","open","add","key","removeEventListener","localStorage","getItem","setItem","$40873ecf3c18e122$var$watchedStorage","JSON","parse","$40873ecf3c18e122$var$queueStorage","clickedFilm","$iU1Pc","Notify","success","length","undefined","find","added","push","stringify","$40873ecf3c18e122$var$scrollup","window","scrollTo","top","left","behavior","$40873ecf3c18e122$var$divideResultToPages","array","page2","Math","ceil","event","isNaN","target","textContent","Number","nextPage","total_pages","$40873ecf3c18e122$var$firstEntry","remove"],"version":3,"file":"myLibrarySite.af47e00e.js.map"}